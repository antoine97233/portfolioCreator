{% extends 'base.html.twig' %}

{% block title %}PortFolioCreator - All users !
{% endblock %}

{% block body %}


	<div class="row mt-2">

		<div class="col-12 col-lg-2"></div>
		<div class="col-12 col-lg-10">
			<div class="form-group bg-light pt-2 pb-2 d-flex align-items-start mx-auto col-12 col-md-6 rounded">

				<div class="col-10">
					<input type="search" class="form-control search-field" placeholder="Search an user here..." autocomplete="off" data-model="query" autofocus>
				</div>
				<div class="col-2">
					<button type="button" class="btn btn-success">Go</button>
				</div>
			</div>
			<p class="text-secondary ">
				<em>
					<span class="text-success">{{usersTotal}}</span>
					results
				</em>
			</p>
		</div>
	</div>


	<div class="row">

		<div class="col-12 col-lg-2">
			<div class="rounded h-100">

				<div class="d-grid pb-2 mt-2 mb-2">
					<a class="btn btn-success btn-sm" data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="true" aria-controls="collapseExample">
						<i class="fa-solid fa-filter"></i>
					</a>
				</div>

				<div class="collapse show show-md mb-2" id="collapseExample">
					<ul class="list-group">


						<li class="list-group-item  justify-content-between align-items-start">


							<div class="d-flex align-items-start">
								<div class="w-100">
									<p class="fw-bold text-center">Open to work</p>
								</div>
							</div>

							<form method="get" action="{{ path('home') }}" class=" tp-2">
								<div class="form-check form-switch text-center">
									<input class="form-check-input border-light" type="checkbox" id="filterAvailability" name="filterAvailability">
								</div>
							</form>


						</li>


						<li class="list-group-item">
							<div class="form-check">
								<input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
								<label class="form-check-label" for="flexCheckDefault">
									Default checkbox
								</label>
							</div>
						</li>
					</ul>
				</div>

			</div>
		</div>


		<div class="col-12 col-lg-10">
			<div class="flex row ">
				{% if users is not empty %}

					{% for user in users %}
						<a href="{{ path('user', {id: user.id, slug: user.slug}) }}" class="col-lg-6 col-md-12 col-12 mt-2 text-decoration-none mx-auto">
							<div class="card mb-4">
								<h5 class="card-header text-primary d-flex justify-content-between">{{ user.fullname }}
									{% if user.isOpenToWork %}
										<span class="badge bg-success">Open to Work !</span>
									{% else %}
										<span class="badge bg-secondary">Busy, sorry !</span>
									{% endif %}
								</h5>

								<div class="card-body">
									<div class="d-flex flex-sm-row">
										<div class="col-sm-4 p-2">
											<div class="mx-auto" style="width:70px;height:70px">
												{% if user.media is not null %}
													{% for media in user.media %}
														<img src="/images/users/{{ media.thumbnail }}" class="card-img-top rounded-circle" alt="{{ user.fullname }}">
													{% endfor %}
												{% endif %}
											</div>
										</div>
										<div class="col-sm-8 mb-2 mb-sm-0">
											<h5 class="card-title text-primary">{{user.title}}</h5>
											<p class="card-text text-primary" ;>{{user.subtitle}}</p>
											<div class="d-flex">
												<div class="badge-container p-1">
													<div class="badge rounded-pill text-bg-secondary">#Bootstrap</div>
												</div>
												<div class="badge-container p-1">
													<div class="badge rounded-pill text-bg-secondary">#Symfony</div>
												</div>
												<div class="badge-container p-1">
													<div class="badge rounded-pill text-bg-secondary">#React</div>
												</div>
											</div>


										</div>
									</div>
								</div>
							</div>
						</a>

					{% endfor %}
				{% endif %}
			</div>
			<div class="d-flex justify-content-center mt-4">
				{{ knp_pagination_render(users) }}
			</div>
		</div>


	</div>


{% endblock %}
